<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Volition â€“ Options</title>
  <link rel="icon" type="image/png" href="icons/icon32.png" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>Volition Settings</h1>
  <section class="card">
    <h2>OpenAI API Key</h2>
    <div class="input-row">
      <input type="password" id="api-key" placeholder="Paste your key here" />
      <button id="save-key">Save</button>
      <button id="test-key">Test</button>
    </div>
    <small class="hint">Need a key? <a href="https://platform.openai.com/account/api-keys" target="_blank">Generate one here</a>.</small>
    <span id="key-status"></span>
    <div style="margin-top:10px;">
      <label for="text-model-select"><strong>Text-only model:</strong></label>
      <select id="text-model-select" style="margin-right:12px;">
        <option value="gpt-3.5-turbo">gpt-3.5-turbo (cheap)</option>
        <option value="gpt-4o-mini">gpt-4o-mini</option>
        <option value="gpt-4o">gpt-4o</option>
        <option value="gpt-o3">gpt-o3</option>
      </select>

      <label for="vision-model-select"><strong>Vision model:</strong></label>
      <select id="vision-model-select">
        <option value="gpt-4o-mini">gpt-4o-mini (default)</option>
        <option value="gpt-4o">gpt-4o</option>
        <option value="gpt-o3">gpt-o3</option>
      </select>
    </div>
  </section>

  <section class="card">
    <h2>Blocklist</h2>
    <small class="hint">Domains automatically block all subdomains (e.g., "youtube.com" blocks "www.youtube.com", "m.youtube.com", etc.)</small>
    <ul id="blocklist"></ul>
    <input type="text" id="new-block-domain" placeholder="example.com" />
    <button id="add-block">Add</button>
  </section>
  <section class="card">
    <h2>Allowlist</h2>
    <small class="hint">Domains automatically allow all subdomains. More specific rules override general ones.</small>
    <ul id="allowlist"></ul>
    <input type="text" id="new-allow-domain" placeholder="example.com" />
    <button id="add-allow">Add</button>
  </section>
  <section class="card">
    <h2>Custom Prompts (optional)</h2>
    <label for="neg-prompt"><strong>Negotiation prompt</strong></label>
    <textarea id="neg-prompt" rows="4" placeholder="System prompt that governs ChatGPT's dialogue with you..."></textarea>
    <label for="class-prompt" style="margin-top:8px;"><strong>Classification prompt</strong></label>
    <textarea id="class-prompt" rows="4" placeholder="System prompt that decides BLOCK vs ALLOW for unknown domains..."></textarea>
    <button id="save-prompts" style="margin-top:10px;">Save Prompts</button>
    <span id="prompt-status"></span>
  </section>
  <section class="card">
    <label>
      <input type="checkbox" id="advanced-mode" /> Enable advanced classification for new domains
    </label>
  </section>
  <script src="options.js"></script>
</body>
</html> 